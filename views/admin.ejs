<%- include('partials/header', { 
    pageTitle: 'MockERP Pro - Admin Configuration',
    activePage: 'admin',
    showStatus: false
}) %>
        <section class="admin-section">
            <h2>Integration Configuration</h2>
            
            <div class="config-card">
                <h3>Current Configuration</h3>
                <div class="config-info">
                    <div class="config-item">
                        <label>Alchemy Email:</label>
                        <span><%= config.email || 'Not configured' %></span>
                    </div>
                    <div class="config-item">
                        <label>Tenant:</label>
                        <span><%= config.tenant %></span>
                    </div>
                    <div class="config-item">
                        <label>Material Type ID:</label>
                        <span><%= config.materialType %></span>
                    </div>
                    <div class="config-item">
                        <label>API URL:</label>
                        <span><%= config.apiUrl %></span>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="testConnection()">Test Connection</button>
                <div id="connectionResult" class="connection-result"></div>
            </div>

            <div class="config-card">
                <h3>🚀 Quick Start Guide</h3>
                <div class="instructions">
                    <p><strong>Getting Started:</strong></p>
                    <ol>
                        <li>Enter your Alchemy credentials in the form above</li>
                        <li>Set your tenant name (e.g., productcaseelnlims)</li>
                        <li>Find your Material Type ID in Alchemy Admin Panel → Material Types</li>
                        <li>Save the configuration</li>
                        <li>Test the connection to verify everything works</li>
                    </ol>
                    <p><strong>Additional Features:</strong></p>
                    <ul>
                        <li><strong>🔄 Quick Change Tenant</strong> - Switch between tenants without re-entering credentials</li>
                        <li><strong>🗑️ Clear Stored Token</strong> - Force re-authentication on next API call</li>
                    </ul>
                </div>
            </div>

            <div class="config-card">
                <h3>📊 Integration Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <h4>🔌 API Endpoint</h4>
                        <p>Alchemy Cloud v2</p>
                    </div>
                    <div class="stat-item">
                        <h4>🔐 Authentication</h4>
                        <p>JWT Token (Bearer)</p>
                    </div>
                    <div class="stat-item">
                        <h4>🔗 Integration Type</h4>
                        <p>REST API</p>
                    </div>
                    <div class="stat-item">
                        <h4>📤 Data Flow</h4>
                        <p>One-way (ERP → Alchemy)</p>
                    </div>
                </div>
            </div>

            <div class="config-card">
                <h3>✨ Demo Features</h3>
                <ul class="feature-list">
                    <li>Simulates enterprise material management system</li>
                    <li>Demonstrates API authentication patterns</li>
                    <li>Shows real-time data synchronization</li>
                    <li>Includes error handling and retry logic</li>
                    <li>Provides direct links to created materials in Alchemy</li>
                    <li>Supports multiple tenants through configuration</li>
                </ul>
            </div>
        </section>
<%- include('partials/footer', {
    connectionStatus: config.email ? 'Configured' : 'Not Configured'
}) %>
